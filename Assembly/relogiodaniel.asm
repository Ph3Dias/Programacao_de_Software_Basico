;
; contarde0a9_7segmentos.asm
;
; Created: 17/10/2025 13:33:50
; Author : damac
;


;portd como output 
;PD0, PD1, PD2, PD3, PD4, PD5, PD6;
.equ a = PD7
.equ b = PD6
.equ c = PD5
.equ d = PD4
.equ e = PD3
.equ f = PD2
.equ g = PD1
.def AUX = r16
.ORG 0x00

Inicializacoes:
	LDI AUX, 0XFF
	OUT DDRD, AUX
	LDI AUX, 0x00
	OUT PORTD, AUX ; limpa o display


PRINCIPAL:
	
	CPI AUX, 0
	BREQ CASE_0

caso:
	CPI AUX, 1
	BREQ CASE_1

	CPI AUX, 2
	BREQ CASE_2 

	CPI AUX, 3 
	BREQ CASE_3

	CPI AUX, 4
	BREQ CASE_4

	CPI AUX, 5
	BREQ CASE_5

	CPI AUX, 6
	BREQ CASE_6

	CPI AUX, 7
	BREQ CASE_7

	CPI AUX, 8
	BREQ CASE_8

	CPI AUX, 9
	BREQ CASE_9
	RJMP PRINCIPAL


CASE_0:
	LDI R17, 0b11111100
	OUT PORTD, R17
	INC R16
	RCALL DELAY
	RJMP caso


CASE_1:
	LDI R17, 0b01100000
	OUT PORTD, R17
	INC R16
	RCALL DELAY
	RJMP PRINCIPAL


CASE_2:
	LDI R17, 0b11011010
	OUT PORTD, R17
	INC R16
	RCALL DELAY
	RJMP PRINCIPAL


CASE_3:
	LDI R17, 0b11110010
	OUT PORTD, R17
	INC R16
	RCALL DELAY
	RJMP PRINCIPAL


CASE_4:
	LDI R17, 0b01100110
	OUT PORTD, R17
	INC R16
	RCALL DELAY
	RJMP PRINCIPAL


CASE_5:
	LDI R17, 0b10110110
	OUT PORTD, R17
	INC R16
	RCALL DELAY
	RJMP PRINCIPAL


CASE_6:
	LDI R17, 0b10111110
	OUT PORTD, R17
	INC R16
	RCALL DELAY
	RJMP PRINCIPAL


CASE_7:
	LDI R17, 0B11100000
	OUT PORTD, R17
	INC R16
	RCALL DELAY
	RJMP PRINCIPAL


CASE_8:
	LDI R17, 0b11111110
	OUT PORTD, R17
	INC R16
	RCALL DELAY
	RJMP PRINCIPAL


CASE_9:
	LDI R17, 0b11110110
	OUT PORTD, R17
	LDI R16, 0
	RCALL DELAY
	RJMP PRINCIPAL
    
DELAY:
	LDI R22, 255       ; loop externo — aumenta para mais tempo
LOOP_OUTER:
	LDI R21, 250
LOOP1:
	LDI R20, 250
LOOP2:
	DEC R20
	BRNE LOOP2
	DEC R21
	BRNE LOOP1 
	DEC R22
	BRNE LOOP_OUTER
	RET