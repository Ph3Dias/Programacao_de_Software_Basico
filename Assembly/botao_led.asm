.nolist
.include "m328Pdef.inc"
.list

.equ BOTAO1 = PC0
.equ BOTAO2 = PC1


.ORG 0x000
INICIO:
	LDI R31, 0xFF 
	OUT DDRD, R31
	OUT DDRB, R31

	OUT PORTC, R31

	LDI R31 , 0b11111100
	OUT DDRC, R31
	
	LDI R31, 0X0
	OUT PORTD, R31
	OUT PORTB, R31
	
	NOP

PRINCIPAL:
	
	BOTAO_SOLTO:
	SBIS PINC, BOTAO1
	RJMP BOTAO1_PRESSIONADO
	SBIS PINC, BOTAO2
	RJMP BOTAO2_PRESSIONADO
	RJMP BOTAO_SOLTO

	BOTAO1_PRESSIONADO:
	SBIS PINC, BOTAO1
	RJMP BOTAO1_PRESSIONADO
	ADIW ZL, 1
	OUT PORTD, R30
	OUT PORTB, R31
	
	RJMP PRINCIPAL

	BOTAO2_PRESSIONADO:
	SBIS PINC, BOTAO2
	RJMP BOTAO2_PRESSIONADO
	SBIW ZL, 1
	OUT PORTD, R30
	OUT PORTB, R31

	RJMP PRINCIPAL





	

